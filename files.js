exports['main.go']='package main\n\nimport (\n	"bufio"\n	"fmt"\n	"io"\n	"os"\n)\n\nfunc main() {\n	for _, fname := range os.Args[1:] {\n		if err := Translate(fname, os.Stdout); err != nil {\n			panic(err)\n		}\n	}\n}\n\nfunc Translate(fname string, w io.Writer) error {\n	r, err := os.Open(fname)\n	if err != nil {\n		return err\n	}\n\n	// XXX: escape\n	fmt.Fprintf(w, "exports[\'%s\']=\'", fname)\n	defer w.Write([]byte("\';\\n"))\n\n	sc := bufio.NewScanner(r)\n	sc.Split(bufio.ScanBytes)\n\n	for sc.Scan() {\n		bs := sc.Bytes()\n		switch bs[0] {\n		case \'\\\\\', \'\\\'\':\n			w.Write([]byte{\'\\\\\'})\n			w.Write(bs)\n		case \'\\n\':\n			w.Write([]byte(`\\n`))\n		default:\n			w.Write(bs)\n		}\n	}\n	return nil\n}\n';
